<!DOCTYPE html>
<html>
<head>
  <title>Transform</title>
	<script src="holy-diver.js"></script>
  <script>
    !function(){
  
      var response = {
				result: [{
					timeframe: { 
						start: "2014-01-12T07:00:00.000Z", 
						end: "2014-01-19T07:00:00.000Z" 
					},
					value: [
					{
						page: 'home',
						result: {
							number: {
								value: 20
							}
						}
					},
					{
						page: 'contact',
						result: {
							number: {
								value: 14
							}
						}
					},
					{
						page: 'about',
						result: {
							number: {
								value: 5
							}
						}
					}
					]
				},
				{
					timeframe: { 
						start: "2013-01-12T07:00:00.000Z", 
						end: "2013-01-19T07:00:00.000Z" 
					},
					value: [
						{
							page: 'home',
							result: {
								number: {
									value: 121
								}
							}
						},
						{
							page: 'contact',
							result: {
								number: {
									value: 543
								}
							}
						},
						{
							page: 'about',
							result: {
								number: {
									value: 1
								}
							}
						}
					]
				}]
			};
      
			parsed = new flatten(response.result, {
        cols: {
          index: '"interval"',
          cells: 'value -> page'
        },
        rows: {
          index: 'timeframe -> start',
          cells: 'value -> result -> number -> value'
        }
      });
      
      console.log('Raw', parsed.raw);
      console.log('Table', parsed.table);
			console.log('Series', parsed.series);
      
   }();
  </script>
</head>
<body>
  
</body>
</html>